@use "./../../../styles.scss" as *;
@use "sass:color";

// ===== Layout orizzontale (Desktop) =====
.horizontal-layout {
  .tab-title {
    border-left: 0.1875rem solid transparent; // 3px
    cursor: pointer;
    transition: $transition;
    border-radius: 0.25rem; // 4px
    font-size: 1.125rem; // 18px

    &:hover {
      background-color: color.adjust($secondary-color, $lightness: -3%);
      border-left-color: $text-gray;
    }

    &.active {
      background-color: $secondary-color;
      border-left-color: $button;
      border-bottom: 1px solid $button;
      box-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, 0.1); // 0 2px 8px
    }

    a {
      color: $text-dark;
      font-weight: 500;
      transition: $transition;
    }

    &.active a {
      color: $button;
    }
  }

  .tabs-content {
    position: relative;
    min-height: 31.25rem; // 500px
    background-color: $secondary-color;
    border: 1px solid $primary-color;
  }

  .tab-content {
    display: none;
    animation: fadeIn 0.3s ease;
    line-height: 1.8;
    color: $text-gray-light;
    font-size: 1.125rem; // 18px

    &.active {
      display: block;
    }

    :deep(b),
    :deep(strong) {
      font-weight: 600;
      color: $button;
    }

    :deep(br) {
      display: block;
      margin-bottom: 0.625rem; // 10px
    }
  }
}

// ===== Layout verticale - Accordion (Tablet e Mobile) =====
.vertical-layout {
  .accordion-container {
    max-width: 100%;
  }

  .accordion-item {
    background-color: $secondary-color;
    border-radius: 0.5rem; // 8px
    overflow: hidden;
    border: 1px solid $primary-color;
    transition: $transition;

    &:hover {
      border-color: $button;
    }
  }

  .accordion-header {
    cursor: pointer;
    background-color: transparent;
    transition: $transition;
    border-left: 0.1875rem solid transparent; // 3px
    user-select: none;

    &:hover {
      background-color: color.adjust($secondary-color, $lightness: -3%);
    }

    &.active {
      background-color: color.adjust($secondary-color, $lightness: -5%);
      border-left-color: $button;
    }

    .accordion-question {
      font-size: 1rem; // 16px
      font-weight: 500;
      color: $text-dark;
      flex: 1;
      padding-right: 1rem;
      line-height: 1.5;
    }

    &.active .accordion-question {
      color: $button;
    }

    .accordion-icon {
      flex-shrink: 0;
      transition: transform 0.3s ease;
      color: $text-gray;
    }

    &.active .accordion-icon {
      transform: rotate(180deg);
      color: $button;
    }
  }

  .accordion-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease, opacity 0.3s ease;
    opacity: 0;

    &.active {
      max-height: 100rem; // Valore alto per contenere qualsiasi contenuto
      opacity: 1;
    }
  }

  .accordion-body {
    line-height: 1.8;
    color: $text-gray-light;
    font-size: 1rem; // 16px
    border-top: 1px solid color.adjust($primary-color, $lightness: 5%);
    animation: fadeInContent 0.3s ease;

    :deep(b),
    :deep(strong) {
      font-weight: 600;
      color: $button;
    }

    :deep(br) {
      display: block;
      margin-bottom: 0.625rem; // 10px
    }
  }
}

// ===== Animazioni =====
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-0.625rem); // -10px
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInContent {
  from {
    opacity: 0;
    transform: translateY(-0.3125rem); // -5px
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ===== Media Queries =====
@media (max-width: 767.98px) {
  .vertical-layout {
    .accordion-header {
      .accordion-question {
        font-size: 0.9375rem; // 15px
      }
    }

    .accordion-body {
      font-size: 0.9375rem; // 15px
    }
  }
}